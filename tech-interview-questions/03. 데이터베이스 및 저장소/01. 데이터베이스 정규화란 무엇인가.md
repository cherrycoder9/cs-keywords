# 데이터베이스 정규화

데이터베이스 정규화는 관계형 데이터베이스 설계에서 데이터 중복을 줄이고 일관성을 높이기 위한 체계적인 기법. 복잡한 데이터 구조를 단순하고 효율적인 테이블로 분해하는 과정으로, 데이터의 무결성과 유연성을 확보함.

## 정규화의 핵심 원리

정규화의 근간은 '함수적 종속성'. 이는 한 속성의 값이 다른 속성의 값을 유일하게 결정하는 관계를 의미함. 정규화 과정은 이러한 종속성을 분석하고 재구성하여 데이터 모델을 점진적으로 개선함.

## 주요 정규형

* **제1정규형 (1NF)**:
  * 각 필드는 더 이상 분해할 수 없는 원자값이어야 함
  * 복합 속성, 다중값 속성 제거

* **제2정규형 (2NF)**:
  * 부분 함수적 종속 제거
  * 모든 비-키 속성이 기본 키 전체에 대해 완전 함수적 종속을 가져야 함
  * 복합 키의 일부에만 종속된 non-prime 속성을 별도 테이블로 분리

* **제3정규형 (3NF)**:
  * 이행적 함수적 종속 제거
  * 비-키 속성이 다른 비-키 속성을 함수적으로 결정하지 않아야 함
  * non-prime 속성 간의 종속성 제거

* **Boyce-Codd 정규형 (BCNF)**:
  * 3NF의 강화된 형태
  * 모든 결정자가 후보 키여야 함

## 고급 정규형

* **제4정규형 (4NF)**: 다치 종속성 제거. 여러 다치 종속성이 존재할 때 이를 분리하여 각 종속성이 독립적으로 유지되도록 함

* **제5정규형 (5NF)**: 조인 종속성 제거. 모든 조인 종속성을 제거하여 각 관계가 최소한의 조인으로도 정상적으로 결합될 수 있도록 함

고급 정규형은 실무에서 드물게 적용되나 복잡한 데이터 모델에서 중요할 수 있음

## 정규화의 균형

정규화는 데이터 일관성과 갱신 용이성을 높이지만, 과도한 정규화는 성능 저하를 초래할 수 있음. 실전에서는 정규화와 반정규화(denormalization)의 균형이 중요함

```python
def assess_normalization(data_volume, update_frequency, read_intensity):
    if data_volume > 1_000_000 and update_frequency < 100 and read_intensity == 'high':
        return "반정규화 고려 필요"
    return "정규화 유지 권장"
```

## 적용 전략

* 요구사항 분석: 데이터의 특성과 사용 패턴을 철저히 분석
* 단계적 정규화: 1NF부터 시작해 필요에 따라 상위 정규형 적용
* 성능 테스트: 정규화 전후의 쿼리 성능을 비교 분석
* 유연한 접근: 상황에 따라 특정 부분을 반정규화하는 유연성 유지

데이터베이스 정규화는 설계의 기본이나 맹목적 적용은 피해야 함. 데이터의 특성, 시스템 요구사항, 성능을 종합적으로 고려해 최적의 균형점을 찾는 것이 중요함. 현대의 데이터베이스 설계는 정규화 원칙을 기반으로 하되, 빅데이터와 NoSQL의 특성을 고려한 유연한 접근이 필요함.
