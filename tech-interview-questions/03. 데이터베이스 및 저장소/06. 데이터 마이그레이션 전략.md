# 데이터 마이그레이션 전략

데이터 마이그레이션은 기존 시스템에서 새로운 시스템으로 데이터를 이전하는 과정. 데이터의 무결성, 일관성, 보안을 유지하면서 수행되어야 하며, 신중한 계획과 실행이 필수적.

## 주요 단계

### 계획 수립

* 요구사항 분석: 마이그레이션의 범위와 목표 정의
* 데이터 매핑: 원본과 대상 데이터 모델 간 매핑 정의
* 리소스 할당: 필요한 인력, 도구, 시간 배정
* 리스크 평가: 발생 가능한 문제 식별 및 대응 계획 수립

### 데이터 준비

* 데이터 정제: 중복, 불필요, 오류 데이터 정리
* 데이터 백업: 원본 데이터 안전 백업으로 복구 대비
* 데이터 검증: 마이그레이션 전 정확성과 일관성 확인

### 도구 선택

* ETL 도구: Talend, Informatica, Apache Nifi 등 활용
* 스크립트 작성: SQL, Python 등을 이용한 데이터 이전 스크립트 개발

### 마이그레이션 실행

* 데이터 추출: 원본 시스템에서 데이터 추출
* 데이터 변환: 대상 시스템 모델에 맞게 변환
* 데이터 적재: 변환된 데이터를 대상 시스템에 적재
* 데이터 검증: 마이그레이션 후 정확성과 일관성 재확인

### 테스트 및 검증

* 기능 테스트: 마이그레이션된 데이터의 정상 작동 여부 확인
* 성능 테스트: 시스템 성능 검증 및 최적화 포인트 파악
* 사용자 검증: 최종 사용자의 시스템 검증 및 피드백 수집

### 전환 및 운영

* 최종 전환: 모든 데이터 마이그레이션 완료 후 새 시스템으로 전환
* 모니터링: 새 시스템 상태 지속 관찰 및 신속 대응
* 문서화: 마이그레이션 과정과 결과 기록으로 향후 참조 자료 확보

## 전략 유형

### 빅뱅 마이그레이션

전체 데이터를 한 번에 마이그레이션. 기간이 짧고 일관성 유지가 용이하나 리스크가 높음.

### 점진적 마이그레이션

데이터를 단계적으로 마이그레이션. 리스크가 낮고 문제 대응이 용이하나 기간이 길고 일관성 유지가 어려울 수 있음.

### 하이브리드 마이그레이션

빅뱅과 점진적 방식을 결합. 유연성과 안정성을 모두 확보할 수 있으나 계획과 관리가 복잡할 수 있음.

## 주요 도구

* Talend: 오픈 소스 ETL 도구
* Informatica: 복잡한 마이그레이션 작업 지원
* Apache Nifi: 실시간 데이터 마이그레이션 가능
* AWS DMS: AWS 환경 데이터베이스 마이그레이션 지원
* Azure Database Migration Service: Azure 환경 마이그레이션 지원

## 실제 예시

### SQL 데이터베이스 간 마이그레이션 (MySQL -> PostgreSQL)

```sh
# MySQL 데이터 추출
mysql -u user -p -e "SELECT * FROM my_table" my_database > my_table.csv

# PostgreSQL 데이터 적재
psql -U user -d my_database -c "\COPY my_table FROM 'my_table.csv' WITH (FORMAT csv)"
```

### ETL 도구 활용 (Talend)

1. Talend에서 MySQL 연결 및 데이터 추출
2. Talend 변환 기능으로 데이터 가공
3. 변환된 데이터를 PostgreSQL에 적재

데이터 마이그레이션은 복잡하고 신중한 작업. 철저한 분석, 적절한 도구 선택, 체계적인 테스트가 필수적. 각 시스템 특성에 맞는 최적의 전략을 수립하여 데이터 무결성과 일관성을 유지하면서 성공적인 시스템 전환을 달성해야 함.
