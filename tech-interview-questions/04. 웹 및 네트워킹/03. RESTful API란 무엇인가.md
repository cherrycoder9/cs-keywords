# RESTful API란 무엇인가

## 정의

RESTful API는 REST(Representational State Transfer) 아키텍처 스타일을 따르는 API(Application Programming Interface)를 의미합니다. RESTful API는 웹 서비스의 설계 원칙에 따라 리소스를 URI로 정의하고, HTTP 메서드를 사용하여 이들 리소스에 대한 CRUD(Create, Read, Update, Delete) 작업을 수행합니다.

## REST 아키텍처의 주요 원칙

1. **클라이언트-서버 구조 (Client-Server Architecture):**
   - 클라이언트와 서버가 서로 독립적으로 동작하며, 클라이언트는 사용자 인터페이스와 사용자 경험을 담당하고, 서버는 데이터 저장 및 비즈니스 로직을 처리합니다.

2. **무상태성 (Statelessness):**
   - 서버는 각 요청을 독립적으로 처리하며, 이전 요청의 정보를 저장하지 않습니다. 필요한 상태 정보는 모든 요청에 포함되어야 합니다.

3. **캐싱 (Caching):**
   - HTTP 응답을 캐시하여 클라이언트 성능을 향상시키고, 서버 부하를 줄일 수 있습니다. 응답은 캐시 가능한지 여부를 나타내야 합니다.

4. **계층화 시스템 (Layered System):**
   - 클라이언트는 서버와 직접 통신하는 것이 아니라, 중간 계층(예: 로드 밸런서, 캐시 서버)을 통해 통신할 수 있습니다. 각 계층은 독립적으로 확장 및 관리 가능합니다.

5. **일관된 인터페이스 (Uniform Interface):**
   - RESTful 서비스는 일관된 방식으로 리소스에 접근할 수 있어야 합니다. 이는 URI, HTTP 메서드, HTTP 상태 코드 등을 표준화하여 사용합니다.

6. **코드 온 디맨드 (Code on Demand, 선택적):**
   - 서버는 클라이언트에게 실행 가능한 코드를 전달할 수 있습니다(JavaScript 등). 이 원칙은 선택 사항입니다.

## RESTful API의 구성 요소

1. **리소스 (Resources):**
   - 모든 데이터는 리소스로 간주되며, URI를 통해 고유하게 식별됩니다.
   - 예시: `http://api.example.com/users/123` (사용자 ID가 123인 사용자 리소스)

2. **HTTP 메서드:**
   - RESTful API는 HTTP 메서드를 사용하여 리소스에 대한 작업을 정의합니다.
     - **GET:** 리소스 조회
     - **POST:** 리소스 생성
     - **PUT:** 리소스 전체 수정
     - **PATCH:** 리소스 부분 수정
     - **DELETE:** 리소스 삭제

3. **HTTP 상태 코드:**
   - 각 요청에 대한 응답으로 HTTP 상태 코드를 반환하여 요청의 성공 또는 실패를 나타냅니다.
     - **200 OK:** 요청 성공
     - **201 Created:** 리소스 생성 성공
     - **400 Bad Request:** 잘못된 요청
     - **401 Unauthorized:** 인증 실패
     - **404 Not Found:** 리소스 없음
     - **500 Internal Server Error:** 서버 오류

4. **URI (Uniform Resource Identifier):**
   - 리소스를 고유하게 식별하기 위한 경로.
   - 예시: `http://api.example.com/products/987` (제품 ID가 987인 제품 리소스)

5. **헤더 (Headers):**
   - 요청과 응답에 추가적인 메타데이터를 포함합니다.
   - 예시: `Content-Type`, `Authorization`, `Accept`

6. **페이로드 (Payload):**
   - 요청과 응답의 본문에 데이터를 포함합니다.
   - 예시: JSON, XML 형식의 데이터

## RESTful API 사용 예시

**예시 시나리오: 사용자 관리 API**

1. **사용자 목록 조회 (GET /users):**

   ```plaintext
   GET /users HTTP/1.1
   Host: api.example.com
   Accept: application/json

   HTTP/1.1 200 OK
   Content-Type: application/json

   [
     {"id": 1, "name": "Alice"},
     {"id": 2, "name": "Bob"}
   ]
   ```

2. **사용자 생성 (POST /users):**

   ```plaintext
   POST /users HTTP/1.1
   Host: api.example.com
   Content-Type: application/json

   {
     "name": "Charlie",
     "email": "charlie@example.com"
   }

   HTTP/1.1 201 Created
   Content-Type: application/json
   Location: /users/3

   {
     "id": 3,
     "name": "Charlie",
     "email": "charlie@example.com"
   }
   ```

3. **사용자 정보 조회 (GET /users/3):**

   ```plaintext
   GET /users/3 HTTP/1.1
   Host: api.example.com
   Accept: application/json

   HTTP/1.1 200 OK
   Content-Type: application/json

   {
     "id": 3,
     "name": "Charlie",
     "email": "charlie@example.com"
   }
   ```

4. **사용자 정보 수정 (PUT /users/3):**

   ```plaintext
   PUT /users/3 HTTP/1.1
   Host: api.example.com
   Content-Type: application/json

   {
     "name": "Charlie Brown",
     "email": "charlie.brown@example.com"
   }

   HTTP/1.1 200 OK
   Content-Type: application/json

   {
     "id": 3,
     "name": "Charlie Brown",
     "email": "charlie.brown@example.com"
   }
   ```

5. **사용자 삭제 (DELETE /users/3):**

   ```plaintext
   DELETE /users/3 HTTP/1.1
   Host: api.example.com

   HTTP/1.1 204 No Content
   ```

## 결론

RESTful API는 웹 서비스 설계에 유연하고 효율적인 방법을 제공하며, HTTP 프로토콜을 기반으로 리소스 지향적 설계를 따릅니다. 이를 통해 클라이언트와 서버 간의 상호작용을 단순하고 명확하게 할 수 있으며, 다양한 클라이언트에서 쉽게 통합하여 사용할 수 있습니다. RESTful API는 웹 애플리케이션, 모바일 애플리케이션, 클라우드 서비스 등 다양한 분야에서 널리 사용되고 있습니다.
